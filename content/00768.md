---
title: Appleã®"ãƒ–ãƒƒã‚¯"ã‚¢ãƒ—ãƒªã®ã‚ˆã†ã«æœ¬ã®è¡¨ç´™ã‚’ãƒãƒ¼ãƒ‰ã‚«ãƒãƒ¼é¢¨ã«ã™ã‚‹åŠ å·¥ã‚’Javaã§è¡Œã†
tags: [ "Java", "Image Processing" ]
categories: [ "Programming", "Java", "java", "awt", "image", "BufferedImage" ]
---


Appleã®"ãƒ–ãƒƒã‚¯"ã‚¢ãƒ—ãƒªã‚’é–‹ãã¨ã€æ¬¡ã®å›³ã®ã‚ˆã†ã«ã€æœ¬ã®è¡¨ç´™ã«å‡¹ä¸Šã®ãƒ‡ãƒœã‚¹åŠ å·¥ãŒæ–½ã•ã‚Œã€ãƒãƒ¼ãƒ‰ã‚«ãƒãƒ¼ã®ã‚ˆã†ãªè³ªæ„Ÿã«è¦‹ãˆã¾ã™ã€‚

<img width="967" alt="image" src="https://github.com/making/blog.ik.am/assets/106908/ff77809a-292f-4166-a218-99ab2f029dcf">


è³¼å…¥ã—ãŸé›»å­æ›¸ç±ã‚’ç®¡ç†ã™ã‚‹æœ¬æ£šã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã¨æ€ã£ã¦ã„ã¦ã€æœ¬æ£šã«æœ¬ã®è¡¨ç´™ã‚’è¼‰ã›ã‚‹ãªã‚‰ã“ã®ã‚ˆã†ãªåŠ å·¥ã‚’ã—ãŸã„ã¨æ€ã„ã€åŠ å·¥æ–¹æ³•ã‚’ChatGPTã«èãã¾ã—ãŸã€‚
æ¬¡ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’æ•™ãˆã¦ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚

```java
import javax.imageio.ImageIO;

import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;

public class DebossImage {

	public static void main(String[] args) {
		try {
			File inputImageFile = new File(args[0]);
			BufferedImage original = ImageIO.read(inputImageFile);

			BufferedImage debossedImage = addBookEdgeDeboss(original);

			File outputImageFile = new File(args[1]);
			ImageIO.write(debossedImage, "png", outputImageFile); // PNG format to preserve alpha
		}
		catch (IOException e) {
			e.printStackTrace();
		}
	}

	private static BufferedImage addBookEdgeDeboss(BufferedImage image) {
		int shadowWidth = 10 * image.getWidth() / 300;
		int offset = shadowWidth / 2;

		BufferedImage result = new BufferedImage(image.getWidth(), image.getHeight(), BufferedImage.TYPE_INT_ARGB);

		for (int y = 0; y < image.getHeight(); y++) {
			for (int x = 0; x < image.getWidth(); x++) {
				int color = image.getRGB(x, y);

				if (x > offset && x < shadowWidth) {
					int alpha = (int) (255 * (double) x / shadowWidth);
					int rgba = (color & 0x00FFFFFF) | (alpha << 24);
					result.setRGB(x, y, rgba);
				}
				else {
					result.setRGB(x, y, color);
				}
			}
		}

		return result;
	}
}
```

æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§å¤‰æ›

```
java DebossImage.java input.jpg output.png
```


å…¥åŠ›ç”»åƒ<br>
![input](https://github.com/making/blog.ik.am/assets/106908/c854682a-71f7-4abc-8ebe-de2f4080b201)

å‡ºåŠ›ç”»åƒ<br>
![output](https://github.com/making/blog.ik.am/assets/106908/76457287-28ee-49db-8b97-b6a6916cf74e)

å…¥åŠ›ç”»åƒ<br>
![input](https://github.com/making/blog.ik.am/assets/106908/9dff6f0b-f8b8-48a6-b444-b09aee6e8988)

å‡ºåŠ›ç”»åƒ<br>
![output](https://github.com/making/blog.ik.am/assets/106908/93a1661b-5684-4725-bb56-c00936e508b1)

å…¥åŠ›ç”»åƒ<br>
![input](https://github.com/making/blog.ik.am/assets/106908/cf358afa-d58b-4155-817a-9d928a7a28ed)

å‡ºåŠ›ç”»åƒ<br>
![output](https://github.com/making/blog.ik.am/assets/106908/d7b8bfc6-c752-4c24-a9ca-f36378b634e7)

æœŸå¾…é€šã‚Šã®çµæœã§ã™ğŸ‘ (ã“ã®è¨˜äº‹ã‚’ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã§ã¿ãŸæ–¹ãŒã‚¨ãƒ³ãƒœã‚¹åŠ å·¥ãŒãƒãƒƒã‚­ãƒªè¦‹ãˆã¾ã™)


