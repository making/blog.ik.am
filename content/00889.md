---
title: ASUS Ascent GX10をセットアップするメモ
tags: ["DGX Spark", "ASUS Ascent GX10", "CUDA", "NVIDIA", "llama.cpp", "Ubuntu", "PyTorch"]
categories: ["HomeLab", "DGXSpark"]
date: 2026-01-12T09:00:45Z
updated: 2026-01-12T09:00:45Z
---

[ASUS Ascent GX10](https://www.asus.com/jp/networking-iot-servers/desktop-ai-supercomputer/ultra-small-ai-supercomputers/asus-ascent-gx10/)を購入したので、セットアップメモ。
随時更新。

### SSH Keyの登録

```bash
ssh-import-id-gh making
```

### fastfetchのインストール

```bash
sudo add-apt-repository ppa:zhangsongcui3371/fastfetch -y
sudo apt update
sudo apt install fastfetch -y
```

![image](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1852/30a0d7a3-ac62-429b-809b-5200c21fe7d3.png)

### GPUの確認

```bash
$ nvidia-smi
Thu Jan  8 15:06:52 2026       
+-----------------------------------------------------------------------------------------+
| NVIDIA-SMI 580.95.05              Driver Version: 580.95.05      CUDA Version: 13.0     |
+-----------------------------------------+------------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id          Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |
|                                         |                        |               MIG M. |
|=========================================+========================+======================|
|   0  NVIDIA GB10                    On  |   0000000F:01:00.0 Off |                  N/A |
| N/A   41C    P8              3W /  N/A  | Not Supported          |      0%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+

+-----------------------------------------------------------------------------------------+
| Processes:                                                                              |
|  GPU   GI   CI              PID   Type   Process name                        GPU Memory |
|        ID   ID                                                               Usage      |
|=========================================================================================|
|    0   N/A  N/A            2472      G   /usr/lib/xorg/Xorg                      126MiB |
|    0   N/A  N/A            2795      G   /usr/bin/gnome-shell                     17MiB |
+-----------------------------------------------------------------------------------------+
```

### static ipの設定

```bash
$ nmcli device
DEVICE          TYPE      STATE                   CONNECTION         
enP7s7          ethernet  connected               Wired connection 3 
lo              loopback  connected (externally)  lo                 
docker0         bridge    connected (externally)  docker0            
wlP9s9          wifi      disconnected            --                 
p2p-dev-wlP9s9  wifi-p2p  disconnected            --                 
enP2p1s0f0np0   ethernet  unavailable             --                 
enP2p1s0f1np1   ethernet  unavailable             --                 
enp1s0f0np0     ethernet  unavailable             --                 
enp1s0f1np1     ethernet  unavailable             -- 
```

```bash
nmcli con show "Wired connection 3"
sudo nmcli con mod "Wired connection 3" ipv4.method manual ipv4.addresses "192.168.XX.YY/24" ipv4.gateway "192.168.XX.1" ipv4.dns "8.8.8.8,1.1.1.1"
sudo reboot
```

新しいIPでsshし直し。

### Editorの変更

```bash
sudo update-alternatives --set editor /usr/bin/vim.basic
```

### Sudoersの編集

```bash
sudo visudo
```

```bash
maki    ALL=NOPASSWD: ALL
```

### Dockerのセットアップ

https://docs.nvidia.com/dgx/dgx-spark/nvidia-container-runtime-for-docker.html

```bash
$ systemctl status docker
× docker.service - Docker Application Container Engine
     Loaded: loaded (/usr/lib/systemd/system/docker.service; enabled; preset: enabled)
    Drop-In: /etc/systemd/system/docker.service.d
             └─docker-override.conf
     Active: failed (Result: exit-code) since Thu 2026-01-08 14:49:01 JST; 8min ago
TriggeredBy: × docker.socket
       Docs: https://docs.docker.com
    Process: 3410 ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock (code=exited, status=1/FAILURE)
   Main PID: 3410 (code=exited, status=1/FAILURE)
        CPU: 173ms

Jan 08 14:49:01 gx10-c90e systemd[1]: docker.service: Scheduled restart job, restart counter is at 3.
Jan 08 14:49:01 gx10-c90e systemd[1]: docker.service: Start request repeated too quickly.
Jan 08 14:49:01 gx10-c90e systemd[1]: docker.service: Failed with result 'exit-code'.
Jan 08 14:49:01 gx10-c90e systemd[1]: Failed to start docker.service - Docker Application Container Engine.
```

`sudo journalctl -u docker -f`でログを見ると、
`error initializing buildkit: error creating buildkit instance: invalid database`と出ている。

```bash
sudo systemctl stop docker
sudo rm -rf /var/lib/docker/buildkit
sudo systemctl start docker
```

```bash
$ sudo systemctl status docker.service
● docker.service - Docker Application Container Engine
     Loaded: loaded (/usr/lib/systemd/system/docker.service; enabled; preset: enabled)
    Drop-In: /etc/systemd/system/docker.service.d
             └─docker-override.conf
     Active: active (running) since Thu 2026-01-08 14:59:17 JST; 1min 59s ago
TriggeredBy: ● docker.socket
       Docs: https://docs.docker.com
   Main PID: 4791 (dockerd)
      Tasks: 16
     Memory: 23.5M (peak: 27.4M)
        CPU: 244ms
     CGroup: /system.slice/docker.service
             └─4791 /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock

Jan 08 14:59:16 gx10-c90e dockerd[4791]: time="2026-01-08T14:59:16.820238814+09:00" level=info msg="Creating a containerd client" address=/run/containerd/containerd.sock timeout=1m0s
Jan 08 14:59:16 gx10-c90e dockerd[4791]: time="2026-01-08T14:59:16.824241602+09:00" level=info msg="[graphdriver] using prior storage driver: overlay2"
Jan 08 14:59:16 gx10-c90e dockerd[4791]: time="2026-01-08T14:59:16.824325300+09:00" level=info msg="Loading containers: start."
Jan 08 14:59:17 gx10-c90e dockerd[4791]: time="2026-01-08T14:59:17.548295346+09:00" level=info msg="Loading containers: done."
Jan 08 14:59:17 gx10-c90e dockerd[4791]: time="2026-01-08T14:59:17.554835457+09:00" level=info msg="Docker daemon" commit=f8215cc containerd-snapshotter=false storage-driver=overlay2 version=28.5.1
Jan 08 14:59:17 gx10-c90e dockerd[4791]: time="2026-01-08T14:59:17.554865506+09:00" level=info msg="Initializing buildkit"
Jan 08 14:59:17 gx10-c90e dockerd[4791]: time="2026-01-08T14:59:17.564906700+09:00" level=info msg="Completed buildkit initialization"
Jan 08 14:59:17 gx10-c90e dockerd[4791]: time="2026-01-08T14:59:17.569796879+09:00" level=info msg="Daemon has completed initialization"
Jan 08 14:59:17 gx10-c90e dockerd[4791]: time="2026-01-08T14:59:17.569838128+09:00" level=info msg="API listen on /run/docker.sock"
Jan 08 14:59:17 gx10-c90e systemd[1]: Started docker.service - Docker Application Container Engine.
```

```bash
$ docker ps
permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get "http://%2Fvar%2Frun%2Fdocker.sock/v1.51/containers/json": dial unix /var/run/docker.sock: connect: permission denied
```

```bash
sudo usermod -aG docker $USER
newgrp docker
```

```bash
$ docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
```

### PyTorchコンテナの起動

```bash
docker run --gpus all --ulimit memlock=-1 -it --ulimit stack=67108864 --entrypoint /usr/bin/bash --rm nvcr.io/nvidia/pytorch:25.11-py3
```

```bash
$ python -c "import torch; print(f'PyTorch version: {torch.__version__}'); print(f'CUDA available: {torch.cuda.is_available()}')"

PyTorch version: 2.10.0a0+b558c986e8.nv25.11
CUDA available: True
```

### NVIDIA Sync

https://build.nvidia.com/spark/connect-to-your-spark/sync

![image](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1852/3de8cc73-c714-42ff-a808-d88b7aa536cb.png)

"Update Available"になっているので"Update Now"をクリックして更新する。

### llma.cpp

https://build.nvidia.com/spark/nemotron/instructions

```bash
cd ..
git clone https://github.com/ggml-org/llama.cpp
cd llama.cpp
```

```bash
sudo apt install libcurl4-openssl-dev -y
mkdir -p build
cmake -B build -DGGML_CUDA=ON -DCMAKE_CUDA_ARCHITECTURES="121" -DLLAMA_CURL=ON
cmake --build build --config Release -j 20
```

```bash
$ ./build/bin/llama-server --version
ggml_cuda_init: found 1 CUDA devices:
  Device 0: NVIDIA GB10, compute capability 12.1, VMM: yes
version: 7668 (2038101bd)
built with GNU 13.3.0 for Linux aarch64
```

```bash
echo "/exit" | ./build/bin/llama-cli -hf gpustack/bge-m3-GGUF
echo "/exit" | ./build/bin/llama-cli -hf ggml-org/gpt-oss-120b-GGUF
```

```bash
./build/bin/llama-server --host 0.0.0.0 --port 8000
```

```bash
curl -s http://localhost:8000/v1/chat/completions \
  --json '{
   "model": "ggml-org/gpt-oss-120b-GGUF",
   "messages": [
      {"role": "user", "content": "Give me a joke."}
   ]
 }' | jq .
```

```bash
cat <<EOF | sudo tee /etc/systemd/system/llama-server.service > /dev/null
[Unit]
Description=llama server
After=network.target

[Service]
User=$USER
Group=$USER
WorkingDirectory=$HOME/git/llama.cpp/build

ExecStart=$HOME/git/llama.cpp/build/bin/llama-server \\
  --host 0.0.0.0 \\
  --port 8000 \\
  --jinja \\
  --fit on \\
  --embeddings

Restart=always
RestartSec=5
LimitNOFILE=65535

[Install]
WantedBy=multi-user.target
EOF
```

```bash
sudo systemctl daemon-reload
sudo systemctl enable llama-server
sudo systemctl start llama-server
sudo systemctl status llama-server
```

```bash
journalctl -u llama-server -f
```

Cloud Codeからアクセス

```bash
ANTHROPIC_BASE_URL=http://<GX10のIP>:8000 claude --dangerously-skip-permissions --model ggml-org/gpt-oss-120b-GGUF
```

### AWS CLIのインストール

```bash
sudo snap install aws-cli --classic
```

### Node Exporterのインストール

```bash
sudo apt install prometheus-node-exporter -y
```

### NFS (Sysnology NAS) マウント

```bash
sudo mkdir -p /mnt/nfs
cat <<EOF | sudo tee -a /etc/fstab
192.168.XX.ZZ:/volume1/nfs /mnt/nfs nfs vers=4.1,hard,_netdev 0 0
EOF
sudo systemctl daemon-reload
sudo mount -a
```
